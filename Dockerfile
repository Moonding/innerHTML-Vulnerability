FROM python:3.10-slim-buster

# ENV
ENV user moonding
ENV port 8000

RUN apt-get update && apt-get install -y python3-pip

RUN adduser $user
ADD ./deploy /app
WORKDIR /app
RUN pip3 install -r requirements.txt

# RUN
USER $user
EXPOSE $port

ENTRYPOINT ["python3"]
CMD ["app.py"]

